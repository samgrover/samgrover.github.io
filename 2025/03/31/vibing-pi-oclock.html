<!doctype html>











<html
  class="not-ready lg:text-base"
  style="--bg-light:#f0ebe2; --bg-dark:#1a1410; --text-light:#1a1a1a; --text-dark:#f5f5dc; --accent:#8b7355; --accent-dark:#8b7355; --bg:#f0ebe2; --text:#1a1a1a"
  lang="en-us"
  dir="ltr"
><head>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Vibing Pi o&#39;Clock - samgrover.com</title>

  
  <meta name="theme-color" />

  <meta name="description" content="
When I wrote up Piterator.swift on Pi Day earlier this month, I was actually trying to do something with the values it returns but I didn&rsquo;t get around to that fun part due to lack of time.
A few days after that I imagined a clock face where the seconds hand moves in jumps of the values returned by the iterator at the rate of once per second. So as the values start coming in like 3, 1, 4, etc, the second hand jumps by those many seconds." />
  <meta name="author" content="samgrover.com" /><link rel="preload stylesheet" as="style" href="https://samgrover.com/main.min.css" />

  
  <link rel="preload" as="image" href="https://samgrover.com/theme.svg" />

  

  <link rel="preload" as="image" href="https://samgrover.com/rss.svg" />

  <script
    defer
    src="https://samgrover.com/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>

  
  
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="apple-mobile-web-app-title" content="samgrover.com">

  <meta name="generator" content="Hugo 0.151.2">
  <style>
    body,
    body * {
      font-family: 'PT Sans', sans-serif !important;
    }

    h1, h1 *,
    h2, h2 *,
    h3, h3 *,
    h4, h4 *,
    h5, h5 *,
    h6, h6 * {
      font-family: 'Nunito', sans-serif !important;
    }

    .archive-year-section summary {
      font-family: 'Nunito', sans-serif !important;
    }

    .post-title,
    .post-title * {
      font-family: 'Nunito', sans-serif !important;
    }
  </style>

  
  <meta itemprop="name" content="Vibing Pi o&#39;Clock">
  <meta itemprop="description" content="When I wrote up Piterator.swift on Pi Day earlier this month, I was actually trying to do something with the values it returns but I didn‚Äôt get around to that fun part due to lack of time.
A few days after that I imagined a clock face where the seconds hand moves in jumps of the values returned by the iterator at the rate of once per second. So as the values start coming in like 3, 1, 4, etc, the second hand jumps by those many seconds.">
  <meta itemprop="datePublished" content="2025-03-31T15:24:35-07:00">
  <meta itemprop="dateModified" content="2025-03-31T15:27:52-07:00">
  <meta itemprop="wordCount" content="414"><meta property="og:url" content="https://samgrover.com/2025/03/31/vibing-pi-oclock.html">
  <meta property="og:site_name" content="samgrover.com">
  <meta property="og:title" content="Vibing Pi o&#39;Clock">
  <meta property="og:description" content="When I wrote up Piterator.swift on Pi Day earlier this month, I was actually trying to do something with the values it returns but I didn‚Äôt get around to that fun part due to lack of time.
A few days after that I imagined a clock face where the seconds hand moves in jumps of the values returned by the iterator at the rate of once per second. So as the values start coming in like 3, 1, 4, etc, the second hand jumps by those many seconds.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-31T15:24:35-07:00">
    <meta property="article:modified_time" content="2025-03-31T15:27:52-07:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Vibing Pi o&#39;Clock">
  <meta name="twitter:description" content="When I wrote up Piterator.swift on Pi Day earlier this month, I was actually trying to do something with the values it returns but I didn‚Äôt get around to that fun part due to lack of time.
A few days after that I imagined a clock face where the seconds hand moves in jumps of the values returned by the iterator at the rate of once per second. So as the values start coming in like 3, 1, 4, etc, the second hand jumps by those many seconds.">

  <link rel="me" href="https://xoxo.zone/@sam" />
  <link rel="me" href="https://samgrover.studio" />
  <link rel="me" href="https://bsky.app/profile/samgrover.bsky.social" />

  
  <link rel="canonical" href="https://samgrover.com/2025/03/31/vibing-pi-oclock.html" />
</head>
<body
    class="bg-(--bg) antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent]"
  >
    <style>
       
      article, article *, .prose, .prose *, main p, main p * {
        color: var(--text-light) !important;
      }
       
      header, header *, footer, footer * {
        color: var(--accent) !important;
      }
      body::before {
        content: '';
        position: fixed;
        inset: 0;
        z-index: -1;
        background-color: transparent;
        pointer-events: none;
      }
       
      html.dark article, html.dark article *, html.dark .prose, html.dark .prose *, html.dark main p, html.dark main p * {
        color: var(--text-dark) !important;
      }
       
      html.dark header, html.dark header *, html.dark footer, html.dark footer * {
        color: var(--accent-dark) !important;
      }
      html.dark body::before {
        background-color: color-mix(in srgb, var(--bg-dark) 85%, transparent);
      }
    </style><header
  class="mx-auto flex h-[4.5rem] max-w-(--w) px-8 whitespace-nowrap lg:justify-center"
>
  <div class="relative z-50 flex items-center ltr:mr-auto rtl:ml-auto">
    <a
      class="-translate-y-[1px] text-2xl font-medium"
      href="https://samgrover.com/"
      >samgrover.com</a
    >
    <div
      class="btn-dark text-[0px] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden ltr:-mr-8 rtl:-ml-8"
    role="button"
    aria-label="Menu"
  ></div>

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#f0ebe2'.replace(/"/g, '');
    const darkBg = '#1a1410'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? darkBg : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    let isDarkMode;
    if (htmlClass.contains('dark')) {
      isDarkMode = true;
    } else {
      const darkVal = localStorage.getItem('dark');
      isDarkMode = darkVal ? darkVal === 'true' : darkScheme.matches;
    }
    
    setDark(isDarkMode);

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full flex-col justify-center bg-(--bg) pb-16 duration-200 select-none lg:static lg:h-auto lg:flex-row lg:bg-transparent! lg:pb-0 lg:transition-none"
  ><nav
      class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse"
    ><a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/search/"
        >Search</a
      ><a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/archive/"
        >Archive</a
      ><a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      ></nav><nav
      class="mt-12 flex justify-center space-x-10 lg:mt-0 lg:items-center ltr:lg:ml-14 rtl:space-x-reverse rtl:lg:mr-14 dark:invert"
    >
      <a
        class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="https://samgrover.com/index.xml"
        target="_blank"
        rel="alternate"
      >rss</a>
    </nav>
  </div>
</header>
<main
      class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] max-w-(--w) px-8 pt-14 pb-16"
    ><article>
  <header class="mb-14">
    <h1 class="my-0! pb-2.5">Vibing Pi o&#39;Clock</h1><div class="text-xs antialiased opacity-60"><time>Mar 31, 2025</time></div></header>

  <section><p><a href="https://raw.githubusercontent.com/samgrover/VibeClockPi/refs/heads/main/Resources/VibeClockPi.gif"><img src="https://raw.githubusercontent.com/samgrover/VibeClockPi/refs/heads/main/Resources/VibeClockPi.gif" alt="An animation of a clock face where the seconds hand is jumping by a different number of places with each passing second."></a></p>
<p>When I wrote up <a href="https://samgrover.com/2025/03/14/yesterday-it-dawned-on-me.html">Piterator.swift</a> on <a href="https://en.wikipedia.org/wiki/Pi_Day">Pi Day</a> earlier this month, I was actually trying to do something with the values it returns but I didn&rsquo;t get around to that fun part due to lack of time.</p>
<p>A few days after that I imagined a clock face where the seconds hand moves in jumps of the values returned by the iterator at the rate of once per second. So as the values start coming in like 3, 1, 4, etc, the second hand jumps by those many seconds.</p>
<p>I started to write the code for a Mac app but Quartz 2D drawing is not something I have ever really done, so it was tricky wrapping my mind around the coordinate system and laying out individual marks on the canvas.</p>
<p>Fast forward to yesterday when I decided to try out <a href="https://simonwillison.net/2025/Mar/19/vibe-coding/">vibe coding</a> for this project. As I got going though, it became more of an AI assisted coding because I started to edit it myself after a couple of initial rounds of code generation. Old habits die hard!</p>
<p>For this purpose I used the recently released <a href="https://blog.google/technology/google-deepmind/gemini-model-thinking-updates-march-2025/#gemini-2-5-thinking">Google&rsquo;s Gemini 2.5 Pro</a> via <a href="https://llm.datasette.io/en/stable/">LLM</a>, essentially as described in <a href="https://simonwillison.net/2025/Mar/26/notes/">this post</a>.</p>
<p>I was very impressed by the code generation. The first prompt I gave was for a static drawing, and it was thus:</p>
<pre tabindex="0"><code>llm -m gemini-2.5-pro-exp-03-25 &#34;Write a SwiftUI View that draws a clock face on a Canvas. It should draw each of the 60 tick marks, with 0 and every multiple of 5 being a slightly thicker tick mark. It should also draw the time using an hour hand, a minute hand and a second hand. The second hand should be red. The time should be 10th hour, 10th minute, 30th second.&#34;
</code></pre><p>The result was exactly as I expected. It even improvised and put that little circle in the center which was a nice touch.</p>
<p>Then I gave it this second prompt which also included the <code>Piterator.swift</code> code:</p>
<pre tabindex="0"><code>files-to-prompt . -e swift -c | \
      llm -m gemini-2.5-pro-exp-03-25 -s \
      &#39;Update the ClockView to make it animatable using TimelineView. Then hook it up to Piterator so that every second, the second hand moves forward by as many seconds as the number returned by the Piterator.&#39;
</code></pre><p>This generated code that had a couple of small bugs that raised compiler errors. After I resolved that I had it working exactly as I envisioned it, and the whole thing took about an hour ü§Ø</p>
<p><a href="https://github.com/samgrover/VibeClockPi">All the code is on Github</a></p>
</section>

  <nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg leading-[1.2]! *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  ><a class="ltr:pr-3 rtl:pl-3" href="https://samgrover.com/2025/04/01/sunrise-over-the-hill-in.html"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">‚Üê</span><span></span></a
    ><a
      class="justify-end pl-3 ltr:ml-auto rtl:mr-auto"
      href="https://samgrover.com/2025/03/29/mimi-uploader-is-no-longer.html"
      ><span>Mimi Uploader is no longer in active development</span><span class="ltr:ml-1.5 rtl:mr-1.5">‚Üí</span></a
    ></nav></article></main><footer
  class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"
>
  <div class="mr-auto">¬© 2004-2025 samgrover.com</div>
</footer>
</body>
</html>
